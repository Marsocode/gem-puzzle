(()=>{"use strict";var e={194:(e,n,t)=>{t.d(n,{Z:()=>m});var r=t(476),o=t.n(r),i=t(678),a=t.n(i),l=t(933),s=t(968),d=o()((function(e){return e[1]})),c=a()(l.Z),u=a()(s.Z);d.push([e.id,"* {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n    font-family: 'Source Code Pro', monospace;\r\n    font-weight: 600;\r\n}\r\n\r\n:root {\r\n    font-size: 10px;\r\n}\r\n\r\nmain {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 100%;\r\n    height: 100vh;\r\n    margin: 0 auto;\r\n    flex-direction: column;\r\n}\r\n\r\n.top_container {\r\n    padding-bottom: 1.5rem;\r\n    width: 40rem;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    font-size: 2rem;\r\n}\r\n\r\n.bottom_container {\r\n    width: 40rem;\r\n    height: auto;\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n}\r\n\r\n.field {\r\n    height: 40rem;\r\n    width: 40rem;\r\n    display: grid;\r\n    grid-template-columns: repeat(4, 1fr);\r\n    grid-template-rows: repeat(4, 1fr);\r\n    background-color: white;\r\n    justify-items: center;\r\n    align-items: center;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.field_item {\r\n    width: 95%;\r\n    height: 95%;\r\n    text-align: center;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 2.6rem;\r\n    cursor: pointer;\r\n    background:#709fb0;\r\n    color: rgb(19, 1, 1);\r\n    border-radius: 1rem;\r\n    -webkit-filter: invert(1);\r\n    filter: invert(1);\r\n    mix-blend-mode: difference;\r\n}\r\n\r\n.backGroundChange {\r\n    color: white;\r\n    background-image: none !important;\r\n}\r\n\r\n.field_item[data-empty] {\r\n    cursor: default;\r\n    background-color: white;\r\n    background-image: none;\r\n    font-size: 0;\r\n}\r\n\r\nselect {\r\n    font-size: 1.8rem;\r\n}\r\n\r\n.overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    background-color: rgba(1,1,1,0.5);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    text-align: center;\r\n}\r\n\r\n.overlay p {\r\n    color: white;\r\n    font-size: 3.2rem;\r\n}\r\n\r\n.controlButton {\r\n    margin-top: 1.5rem;\r\n    padding: 1rem;\r\n    width: 14rem;\r\n    font-size: 1.8rem;\r\n    border-radius: 1rem;\r\n    outline: none;\r\n    border: none;\r\n    background-color:#709fb0;\r\n    color: white;\r\n    cursor: pointer;\r\n}\r\n\r\n#soundButton {\r\n    padding: 2.4rem;\r\n    width: 7rem;\r\n    background-color:#709fb0;\r\n}\r\n\r\n.mute {\r\n    background: url("+c+") no-repeat;\r\n    background-position: center;\r\n}\r\n\r\n.volume {\r\n    background: url("+u+") no-repeat;\r\n    background-position: center;\r\n}\r\n\r\nbutton:hover {\r\n    transform: scale(1.05);\r\n}\r\n\r\nbutton:active {\r\n    outline: none;\r\n}\r\n\r\nbutton:disabled {\r\n    background-color: gray;\r\n}\r\n\r\nbutton:disabled,\r\nbutton[disabled] {\r\n    background-color: rgba(1, 1, 1, 0.4);\r\n    cursor: default;\r\n    transform: none;\r\n}\r\n\r\n#chooseType {\r\n    width: 17rem;\r\n}\r\n\r\n@media (max-width: 400px) {\r\n    .field {\r\n        height: 40rem;\r\n        width: 100vw;\r\n    }\r\n\r\n    .top_container {\r\n        width: 100vw;\r\n        font-size: 1.5rem;\r\n    }\r\n\r\n    select {\r\n        font-size: 1.5rem;\r\n    }\r\n    \r\n    .bottom_container {\r\n        width: 100vw;\r\n    }\r\n\r\n    .controlButton {\r\n        margin-top: 1.5rem;\r\n        padding: 1rem;\r\n        width: 13rem;\r\n        font-size: 1.6rem;\r\n        border-radius: 1rem;\r\n        outline: none;\r\n        border: none;\r\n        background-color:#709fb0;\r\n        color: white;\r\n        cursor: pointer;\r\n    }\r\n}",""]);const m=d},476:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);r&&o[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),n.push(s))}},n}},678:e=>{e.exports=function(e,n){return n||(n={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},933:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"257d281f7cfb68d3a3f58bd4f757470a.png"},968:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"660c242d0384d67adea740e407a79aac.png"},892:(e,n,t)=>{var r,o=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),i=[];function a(e){for(var n=-1,t=0;t<i.length;t++)if(i[t].identifier===e){n=t;break}return n}function l(e,n){for(var t={},r=[],o=0;o<e.length;o++){var l=e[o],s=n.base?l[0]+n.base:l[0],d=t[s]||0,c="".concat(s," ").concat(d);t[s]=d+1;var u=a(c),m={css:l[1],media:l[2],sourceMap:l[3]};-1!==u?(i[u].references++,i[u].updater(m)):i.push({identifier:c,updater:g(m,n),references:1}),r.push(c)}return r}function s(e){var n=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=t.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){n.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(n);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}return n}var d,c=(d=[],function(e,n){return d[e]=n,d.filter(Boolean).join("\n")});function u(e,n,t,r){var o=t?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=c(n,o);else{var i=document.createTextNode(o),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(i,a[n]):e.appendChild(i)}}function m(e,n,t){var r=t.css,o=t.media,i=t.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,p=0;function g(e,n){var t,r,o;if(n.singleton){var i=p++;t=f||(f=s(n)),r=u.bind(null,t,i,!1),o=u.bind(null,t,i,!0)}else t=s(n),r=m.bind(null,t,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else o()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var t=l(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<t.length;r++){var o=a(t[r]);i[o].references--}for(var s=l(e,n),d=0;d<t.length;d++){var c=a(t[d]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}t=s}}}}},n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={id:r,exports:{}};return e[r](o,o.exports,t),o.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),(()=>{const e=n=>{let t,r,o=n.length;for(;0!==o;)r=Math.floor(Math.random()*o),o-=1,t=n[o],n[o]=n[r],n[r]=t;(e=>{let n=0;for(let t=0;t<e.length**2;t+=1)if(0!==e[t])for(let r=0;r<t;r+=1)e[r]>e[t]&&(n+=1);else n+=(1+t)/e.length;return n%2==0})(n)||e(n);for(let e=0;e<=n.length-1;e+=1)if(n[e]===n.length)return n[e]=0,n;return n},n=e;class r{constructor(e,n,t,r){this.xColumn=e,this.yRow=n,this.value=t,this.order=r}}class o{constructor(e){this.fieldSize=e,this.fieldYRows=[],this.fieldXColumns=[],this.isSound=!0,this.isWin=!1}generateField(e){const t=new Array(this.fieldSize*this.fieldSize);for(let e=0;e<t.length;e+=1)t[e]=e+1;const o=t.slice();let i;o.splice(-1,1,0),i=e?o:n(t);for(let e=0;e<this.fieldSize;e+=1){this.fieldXColumns=[];for(let n=0;n<this.fieldSize;n+=1){const t=i[e*this.fieldSize+n];this.fieldXColumns.push(new r(n,e,t,e*this.fieldSize+n))}this.fieldYRows.push(this.fieldXColumns)}return this.fieldYRows}getField(){return this.fieldYRows}getItem(e,n){return this.fieldXColumns[e][n]}}const i=[];for(let e=1;e<64;e+=1)i.push(e);function a(e,n,t,r){const o=function(e,n){let t=null;if(0===n.value)return t;let r=[];const o=n.xColumn,i=n.yRow;return r.push(e[i][o-1]),r.push(e[i][o+1]),r.push(void 0!==e[i-1]?e[i-1][o]:void 0),r.push(void 0!==e[i+1]?e[i+1][o]:void 0),r=r.filter((e=>void 0!==e)),r.forEach((e=>{0===e.value&&(t=e)})),t}(e.getField(),n);if(!o)return;const a=document.getElementById("move_counter");a.dataset.value=Number(a.dataset.value)+1,a.innerHTML="Moves: "+a.dataset.value;const l=o.xColumn-n.xColumn,s=o.yRow-n.yRow,d=0===l?"Y":"X",c="X"===d?l:s;t.animate([{transform:`translate${d}(0%)`},{transform:`translate${d}(${5*c}%)`}],{duration:250,iterations:1}),r&&new Audio("../assets/sounds/push_sound.mp3").play(),e.getField()[o.yRow][o.xColumn].value=n.value,e.getField()[n.yRow][n.xColumn].value=0,setTimeout((()=>{const r=e.getField()[o.yRow][o.xColumn].order;e.getField()[o.yRow][o.xColumn].order=r,e.getField()[n.yRow][n.xColumn].order=n.order;const i=document.querySelector("[data-empty]"),a=i.style.order,l=t.style.order;t.style.order=a,i.style.order=l}),0),function(e){const n=[];if(e.getField().forEach((e=>{e.forEach((e=>{n.push(e.value)}))})),t=n.slice(0,n.length-1),r=i.slice(0,Number(document.querySelector("select").value)**2-1),Array.isArray(t)&&Array.isArray(r)&&t.length===r.length&&t.every(((e,n)=>e===r[n]))){document.getElementById("saveButton").disabled=!0,document.getElementById("loadButton").disabled=!0,localStorage.clear(),e.isWin=!0;const n=document.createElement("div");n.className="overlay";const t=document.createElement("p"),r=document.getElementById("move_counter"),o=document.getElementById("time");t.innerHTML=`You won in ${o.innerHTML} and ${r.dataset.value} moves!`,n.append(t),document.querySelector(".field").append(n)}var t,r}(e)}function l(e,n){let t=null;return e.forEach((e=>{e.forEach((e=>{e.value===n&&(t=e)}))})),t}let s;const d=new Audio("./assets/sounds/push_sound.mp3");function c(e){e.getField().forEach((n=>{n.forEach((n=>{const t=document.createElement("div");t.classList="field_item",t.innerHTML=n.value,t.style.backgroundImage="url(./assets/img/nature.jpg)";const r=n.value%e.fieldSize==0?e.fieldSize-1:n.value%e.fieldSize-1,o=parseInt((n.value-1)/e.fieldSize,10);t.style.backgroundPositionX=r*(100/(e.fieldSize-1))+"%",t.style.backgroundPositionY=o*(100/(e.fieldSize-1))+"%",t.style.backgroundSize=100*e.fieldSize+"%",t.style.order=n.order,t.draggable=!0,t.droppable=!0,0===n.value&&(t.dataset.empty=!0,t.draggable=!1,t.style.backgroundImage="none"),document.querySelector(".field").appendChild(t),t.addEventListener("click",(()=>{e.isSound&&"0"!==t.innerHTML&&d.play(),a(e,l(e.getField(),Number(t.innerHTML)),t)})),t.addEventListener("drag",(()=>{s=t})),t.addEventListener("dragover",(e=>{e.preventDefault()})),t.addEventListener("drop",(n=>{n.preventDefault(),e.isSound&&d.play(),"0"===t.innerHTML&&a(e,l(e.getField(),Number(s.innerHTML)),s)}))}))}))}const u=document.createElement("main"),m=document.createElement("div");m.className="top_container";const f=document.createElement("div");f.className="bottom_container";const p=document.createElement("select"),g=document.createElement("div");g.id="move_counter";const h=document.createElement("div");h.id="time",h.innerHTML="00:00";const v=document.createElement("button");v.className="controlButton",v.id="gameButton",v.innerHTML="New Game";const b=document.createElement("button");b.id="pauseButton",b.className="controlButton",b.innerHTML="Pause";const y=document.createElement("button");y.id="soundButton",y.classList.add("controlButton","volume");const w=document.createElement("button");w.id="saveButton",w.className="controlButton",w.innerHTML="Save game",w.disabled=!0;const S=document.createElement("button");S.id="loadButton",S.className="controlButton",S.innerHTML="Load game";const T=document.createElement("button");T.className="controlButton",T.id="chooseType",T.innerHTML="Number Puzzle";var E=t(892),L=t.n(E),z=t(194);L()(z.Z,{insert:"head",singleton:!1}),z.Z.locals;let M,x=!1,C=!0,k=!1,N=!0,H=0,I=!1,B=!1;document.body.prepend(u),[3,4,5,6,7,8].forEach((e=>{const n=document.createElement("option");n.innerHTML=`${e} x ${e}`,4===e&&(n.selected="selected"),n.value=e,p.append(n)})),void 0!==localStorage.getItem("field")&&null!==localStorage.getItem("field")?S.disabled=!1:S.disabled=!0,T.onclick=()=>{B=!B,B?(document.querySelectorAll(".field_item").forEach((e=>{e.classList.add("backGroundChange")})),T.innerHTML="Image Puzzle"):(document.querySelectorAll(".field_item").forEach((e=>{e.classList.remove("backGroundChange")})),T.innerHTML="Number Puzzle")};const _=e=>{g.dataset.value=0,g.innerHTML="Moves: "+g.dataset.value,m.append(h,g,p),f.append(v,y,b,w,S,T),u.append(m),M=new o(e),C?(M.generateField(!0),C=!1):M.generateField(!1),M.isSound=N;const n=document.createElement("div");n.className="field",n.style.gridTemplateColumns=`repeat(${p.value}, 1fr)`,n.style.gridTemplateRows=`repeat(${p.value}, 1fr)`,u.append(n),c(M),(e=>{const n=document.createElement("div");n.className="overlay";const t=document.createElement("p");t.innerHTML='To start game push "New Game"',n.append(t),e.append(n)})(n),u.append(f)};w.onclick=()=>{localStorage.setItem("field",JSON.stringify(M)),localStorage.setItem("size",M.fieldSize),localStorage.setItem("moves",g.dataset.value),localStorage.setItem("time",H),S.disabled=!1};const R=e=>{const n=""+e;return n.length<2?"0"+n:n},j=()=>{H+=100,h.innerHTML=`${R(parseInt(parseInt(H/1e3,10)/60,10))}:${R(parseInt(H/1e3,10)%60)}`},F=new function(e,n){let t;this.pause=()=>{window.clearTimeout(t)},this.resume=()=>{window.clearTimeout(t),t=window.setTimeout(e,100)},this.resume()}((()=>{(x||I)&&(j(),F.resume()),M.isWin&&F.pause()}),100);S.onclick=()=>{if(void 0!==localStorage.getItem("field")&&null!==localStorage.getItem("field")){S.disabled=!1,I=!0;const e=JSON.parse(localStorage.getItem("field")),n=localStorage.getItem("size"),t=localStorage.getItem("moves"),r=localStorage.getItem("time");u.removeChild(document.querySelector(".field")),M=new o,M.fieldSize=e.fieldSize,M.fieldYRows=e.fieldYRows,M.fieldXColumns=e.fieldXColumns,M.isSound=e.isSound,M.isWin=e.isWin;const i=document.createElement("div");i.className="field",i.style.gridTemplateColumns=`repeat(${M.fieldSize}, 1fr)`,i.style.gridTemplateRows=`repeat(${M.fieldSize}, 1fr)`,u.insertBefore(i,f),c(M),p.value=n,g.dataset.value=t,g.innerHTML="Moves: "+g.dataset.value,H=Number(r),j(),F.resume()}else S.disabled=!0},y.onclick=()=>{N=!N,M.isSound=N,M.isSound?(y.classList.remove("mute"),y.classList.add("volume")):(y.classList.add("mute"),y.classList.remove("volume"))},p.onchange=()=>{C=!0,x=!1,F.pause(),document.querySelector("main").innerHTML="",_(Number(p.value)),T.innerHTML="Number Puzzle"},v.onclick=()=>{if(x=!0,H=0,x){F.resume(),document.querySelector("main").innerHTML="",_(Number(p.value));const e=document.querySelector(".overlay");document.querySelector(".field").removeChild(e),C=!1,T.innerHTML="Number Puzzle",w.disabled=!1}},b.onclick=()=>{k=!k,k?(b.innerHTML="Continue",F.pause()):(b.innerHTML="Pause",F.resume())},document.addEventListener("DOMContentLoaded",(()=>{_(4)}))})()})();